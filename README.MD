# üöÄ API de Produtos com Arquitetura Orientada a Eventos na AWS

Um projeto de exemplo de uma API RESTful simples para gerenciamento de itens (CRUD), constru√≠da com **FastAPI** e **Python**. A aplica√ß√£o utiliza uma arquitetura orientada a eventos para desacoplar a l√≥gica de neg√≥cio, integrando-se a servi√ßos de mensageria da **Amazon Web Services (AWS)**.

## ‚ú® Funcionalidades

- **CRUD Completo:** Crie, leia, atualize e delete itens.
- **Persist√™ncia de Dados:** Usa um banco de dados local **SQLite** para armazenar os dados de forma persistente.
- **Arquitetura de Eventos:** Ap√≥s cada opera√ß√£o de cria√ß√£o, atualiza√ß√£o ou dele√ß√£o, a API dispara um evento.
- **Integra√ß√£o AWS:**
    - **Amazon EventBridge:** Atua como um barramento de eventos, recebendo e roteando os eventos da API.
    - **Amazon SNS:** Distribui os eventos para m√∫ltiplos assinantes, como e-mail.
    - **Amazon SQS:** Envia os eventos para uma fila de mensagens para processamento ass√≠ncrono.

## ‚öôÔ∏è Tecnologias Utilizadas

- **Backend:**
    - [Python 3.10+](https://www.python.org/)
    - [FastAPI](https://fastapi.tiangolo.com/)
    - [SQLModel](https://sqlmodel.tiangolo.com/)
    - [Uvicorn](https://www.uvicorn.org/)
    - [Boto3](https://boto3.amazonaws.com/v1/documentation/api/latest/index.html) (SDK da AWS para Python)
- **Banco de Dados:**
    - SQLite
- **Servi√ßos AWS:**
    - EventBridge
    - SQS
    - SNS

## üåê Arquitetura

A aplica√ß√£o segue um padr√£o de arquitetura orientada a eventos:

`FastAPI (API REST) -> EventBridge (Roteador de Eventos) -> [SNS Topic & SQS Queue]`

Quando um item √© modificado, o evento √© enviado para o EventBridge. Uma regra no EventBridge encaminha esse evento para um T√≥pico SNS (que o envia para e-mail) e para uma Fila SQS.

## üöÄ Como Executar o Projeto Localmente

### Pr√©-requisitos

- Python 3.10+
- `pip` (gerenciador de pacotes do Python)
- `git`
- Credenciais AWS configuradas (atrav√©s do `aws configure`)

### Instala√ß√£o

1.  Clone o reposit√≥rio:
    ```bash
    git clone [https://github.com/seu-usuario/nome-do-repositorio.git](https://github.com/seu-usuario/nome-do-repositorio.git)
    cd nome-do-repositorio
    ```

2.  Crie e ative um ambiente virtual:
    ```bash
    python -m venv venv
    source venv/bin/activate  # macOS/Linux
    .\venv\Scripts\activate   # Windows
    ```

3.  Instale as depend√™ncias:
    ```bash
    pip install -r requirements.txt
    ```

4.  Crie um arquivo `.env` para suas vari√°veis de ambiente na raiz do projeto:
    ```env
    AWS_EVENTBRIDGE_BUS_NAME="arn:aws:events:sua-regiao:seu-id-de-conta:event-bus/seu-bus"
    AWS_REGION="sua-regiao"
    ```
    ‚ö†Ô∏è **ATEN√á√ÉO**: Este arquivo `.env` est√° no `.gitignore` e n√£o deve ser enviado para o reposit√≥rio por quest√µes de seguran√ßa.

5.  Execute a aplica√ß√£o:
    ```bash
    uvicorn main:app --host 0.0.0.0 --port 8000 --reload
    ```

A API estar√° dispon√≠vel em `http://localhost:8000`.

## üìñ Documenta√ß√£o da API

A documenta√ß√£o interativa (Swagger UI) est√° dispon√≠vel em `http://localhost:8000/docs`.

## üîë Seguran√ßa

As credenciais da AWS s√£o gerenciadas de forma segura atrav√©s do comando `aws configure` e das vari√°veis de ambiente (`.env`), garantindo que nenhum segredo seja exposto no c√≥digo ou no reposit√≥rio Git.

## üìù Licen√ßa

Este projeto est√° licenciado sob a [Licen√ßa MIT](https://github.com/seu-usuario/nome-do-repositorio/blob/main/LICENSE).